<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A lazy yet bulletproof machine translation tool for Elastichsearch."><link rel=prev href=..><link href=../usage/ rel=next><link rel=icon href=..><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.16"><title>API Reference - EsTranslator</title><link rel=stylesheet href=../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CNoto+Sans+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Poppins";--md-code-font:"Noto Sans Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="API Reference - EsTranslator"><meta property=og:description content="A lazy yet bulletproof machine translation tool for Elastichsearch."><meta property=og:image content=./assets/images/social/api.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta property=og:url content=None><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="API Reference - EsTranslator"><meta name=twitter:description content="A lazy yet bulletproof machine translation tool for Elastichsearch."><meta name=twitter:image content=./assets/images/social/api.png></head> <body dir=ltr data-md-color-scheme=icij-light data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#api-reference class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=EsTranslator class="md-header__button md-logo" aria-label=EsTranslator data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 1H3c-1.1 0-2 .9-2 2v12l3-3h5v-1c0-2.2 1.79-4 4-4V3c0-1.1-.9-2-2-2m0 3H9.5c-.34 1.19-.96 2.3-1.82 3.26l-.02.02 1.26 1.25-.37 1.01L7 8l-2.5 2.5-.69-.73 2.53-2.49A8.58 8.58 0 0 1 4.86 5h.99c.31.6.69 1.17 1.15 1.68A7.69 7.69 0 0 0 8.57 4H3V3h3.5V2h1v1H11v1m10 5h-8c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7l3 3V11c0-1.1-.9-2-2-2m-1.37 10-.85-2.25h-3.56L14.38 19h-1.5l3.37-9h1.5l3.38 9h-1.5M17 12l1.22 3.25h-2.43L17 12Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EsTranslator </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> API Reference </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=icij-light data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark theme" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark theme" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M9.598 1.591a.749.749 0 0 1 .785-.175 7.001 7.001 0 1 1-8.967 8.967.75.75 0 0 1 .961-.96 5.5 5.5 0 0 0 7.046-7.046.75.75 0 0 1 .175-.786Zm1.616 1.945a7 7 0 0 1-7.678 7.678 5.499 5.499 0 1 0 7.678-7.678Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=icij-dark data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light theme" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light theme" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm5.657-8.157a.75.75 0 0 1 0 1.061l-1.061 1.06a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.06-1.06a.75.75 0 0 1 1.06 0Zm-9.193 9.193a.75.75 0 0 1 0 1.06l-1.06 1.061a.75.75 0 1 1-1.061-1.06l1.06-1.061a.75.75 0 0 1 1.061 0ZM8 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0ZM3 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 3 8Zm13 0a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 16 8Zm-8 5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 13Zm3.536-1.464a.75.75 0 0 1 1.06 0l1.061 1.06a.75.75 0 0 1-1.06 1.061l-1.061-1.06a.75.75 0 0 1 0-1.061ZM2.343 2.343a.75.75 0 0 1 1.061 0l1.06 1.061a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.06-1.06a.75.75 0 0 1 0-1.06Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/icij/es-translator title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> icij/es-translator </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=EsTranslator class="md-nav__button md-logo" aria-label=EsTranslator data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 1H3c-1.1 0-2 .9-2 2v12l3-3h5v-1c0-2.2 1.79-4 4-4V3c0-1.1-.9-2-2-2m0 3H9.5c-.34 1.19-.96 2.3-1.82 3.26l-.02.02 1.26 1.25-.37 1.01L7 8l-2.5 2.5-.69-.73 2.53-2.49A8.58 8.58 0 0 1 4.86 5h.99c.31.6.69 1.17 1.15 1.68A7.69 7.69 0 0 0 8.57 4H3V3h3.5V2h1v1H11v1m10 5h-8c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7l3 3V11c0-1.1-.9-2-2-2m-1.37 10-.85-2.25h-3.56L14.38 19h-1.5l3.37-9h1.5l3.38 9h-1.5M17 12l1.22 3.25h-2.43L17 12Z"/></svg> </a> EsTranslator </label> <div class=md-nav__source> <a href=https://github.com/icij/es-translator title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> icij/es-translator </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> API Reference <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> API Reference </a> <nav class="md-nav md-nav--secondary" aria-label="Page contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Page contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#es_translator.EsTranslator class=md-nav__link> EsTranslator </a> <nav class=md-nav aria-label=EsTranslator> <ul class=md-nav__list> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.no_progressbar class=md-nav__link> no_progressbar </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.search_source class=md-nav__link> search_source </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.stdout_loglevel class=md-nav__link> stdout_loglevel </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.configure_search class=md-nav__link> configure_search() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.create_translation_queue class=md-nav__link> create_translation_queue() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.init_interpreter class=md-nav__link> init_interpreter() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.instantiate_interpreter class=md-nav__link> instantiate_interpreter() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.print_done class=md-nav__link> print_done() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.print_flush class=md-nav__link> print_flush() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.process_document class=md-nav__link> process_document() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.search class=md-nav__link> search() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.start class=md-nav__link> start() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.start_later class=md-nav__link> start_later() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.start_now class=md-nav__link> start_now() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.translate_documents_in_pool class=md-nav__link> translate_documents_in_pool() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.with_shared_fatal_error class=md-nav__link> with_shared_fatal_error() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.Argos class=md-nav__link> Argos </a> <nav class=md-nav aria-label=Argos> <ul class=md-nav__list> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.is_pair_available class=md-nav__link> is_pair_available </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.local_languages class=md-nav__link> local_languages </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.translation class=md-nav__link> translation </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.download_and_install_package class=md-nav__link> download_and_install_package() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.download_necessary_languages class=md-nav__link> download_necessary_languages() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.find_necessary_package class=md-nav__link> find_necessary_package() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.is_package_installed class=md-nav__link> is_package_installed() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.translate class=md-nav__link> translate() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.update_package_index class=md-nav__link> update_package_index() </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../usage/ class=md-nav__link> Usage </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> Contributing </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Page contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Page contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#es_translator.EsTranslator class=md-nav__link> EsTranslator </a> <nav class=md-nav aria-label=EsTranslator> <ul class=md-nav__list> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.no_progressbar class=md-nav__link> no_progressbar </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.search_source class=md-nav__link> search_source </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.stdout_loglevel class=md-nav__link> stdout_loglevel </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.configure_search class=md-nav__link> configure_search() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.create_translation_queue class=md-nav__link> create_translation_queue() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.init_interpreter class=md-nav__link> init_interpreter() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.instantiate_interpreter class=md-nav__link> instantiate_interpreter() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.print_done class=md-nav__link> print_done() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.print_flush class=md-nav__link> print_flush() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.process_document class=md-nav__link> process_document() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.search class=md-nav__link> search() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.start class=md-nav__link> start() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.start_later class=md-nav__link> start_later() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.start_now class=md-nav__link> start_now() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.translate_documents_in_pool class=md-nav__link> translate_documents_in_pool() </a> </li> <li class=md-nav__item> <a href=#es_translator.es_translator.EsTranslator.with_shared_fatal_error class=md-nav__link> with_shared_fatal_error() </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.Argos class=md-nav__link> Argos </a> <nav class=md-nav aria-label=Argos> <ul class=md-nav__list> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.is_pair_available class=md-nav__link> is_pair_available </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.local_languages class=md-nav__link> local_languages </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.translation class=md-nav__link> translation </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.download_and_install_package class=md-nav__link> download_and_install_package() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.download_necessary_languages class=md-nav__link> download_necessary_languages() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.find_necessary_package class=md-nav__link> find_necessary_package() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.is_package_installed class=md-nav__link> is_package_installed() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.translate class=md-nav__link> translate() </a> </li> <li class=md-nav__item> <a href=#es_translator.interpreters.argos.argos.Argos.update_package_index class=md-nav__link> update_package_index() </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=api-reference>API Reference<a class=headerlink href=#api-reference title="Permanent link">&para;</a></h1> <p>Welcome to the API reference for EsTranslator. This section provides detailed information about the classes, methods, and attributes available in the EsTranslator library.</p> <div class="doc doc-object doc-class"> <h2 id=es_translator.EsTranslator class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">es_translator.EsTranslator</span> <a href=#es_translator.EsTranslator class=headerlink title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>es_translator</span><span class=o>.</span><span class=n>EsTranslator</span><span class=p>(</span><span class=n>options</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents first"> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>options</code></td> <td> <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code> </td> <td> <div class=doc-md-description> <p>A dictionary of options needed to set up the translator.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>options</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the Elasticsearch translator.</span>

<span class=sd>    Args:</span>
<span class=sd>        options (Dict[str, Any]): A dictionary of options needed to set up the translator.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>url</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;url&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>index</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;index&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>source_language</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;source_language&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>target_language</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;target_language&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>intermediary_language</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;intermediary_language&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>source_field</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;source_field&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>target_field</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;target_field&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>query_string</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;query_string&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>data_dir</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;data_dir&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>scan_scroll</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;scan_scroll&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>dry_run</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;dry_run&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>pool_size</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;pool_size&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>pool_timeout</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;pool_timeout&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>throttle</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;throttle&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>progressbar</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;progressbar&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>interpreter_name</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s1>&#39;interpreter&#39;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>max_content_length</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;max_content_length&#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>plan</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;plan&#39;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=es_translator.es_translator.EsTranslator.no_progressbar class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">no_progressbar</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#es_translator.es_translator.EsTranslator.no_progressbar class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>no_progressbar</span><span class=p>:</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the progressbar option is set to False.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>bool</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>True if the progressbar option is False, else False.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=es_translator.es_translator.EsTranslator.search_source class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">search_source</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#es_translator.es_translator.EsTranslator.search_source class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>search_source</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Gets the list of fields to use in the search.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title="typing.List">List</span>[str]</code> </td> <td> <div class=doc-md-description> <p>List[str]: list of fields to use in the search.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=es_translator.es_translator.EsTranslator.stdout_loglevel class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">stdout_loglevel</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#es_translator.es_translator.EsTranslator.stdout_loglevel class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>stdout_loglevel</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Gets the log level of stdout.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>int</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>The log level of stdout.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.configure_search class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">configure_search</span> <a href=#es_translator.es_translator.EsTranslator.configure_search class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>configure_search</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Configures the search object.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Search</code></td> <td> <code><span title="elasticsearch_dsl.Search">Search</span></code> </td> <td> <div class=doc-md-description> <p>A configured search object.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>configure_search</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Search</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Configures the search object.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Search: A configured search object.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>search</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>search</span><span class=p>()</span>
    <span class=n>search</span> <span class=o>=</span> <span class=n>search</span><span class=o>.</span><span class=n>source</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>search_source</span><span class=p>)</span>
    <span class=n>search</span> <span class=o>=</span> <span class=n>search</span><span class=o>.</span><span class=n>params</span><span class=p>(</span><span class=n>scroll</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>scan_scroll</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>pool_size</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>search</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.create_translation_queue class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">create_translation_queue</span> <a href=#es_translator.es_translator.EsTranslator.create_translation_queue class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>create_translation_queue</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Creates a queue that can translate documents in parallel.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>JoinableQueue</code></td> <td> <code><span title="multiprocessing.JoinableQueue">JoinableQueue</span></code> </td> <td> <div class=doc-md-description> <p>A queue for parallel document translation.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>create_translation_queue</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>JoinableQueue</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a queue that can translate documents in parallel.</span>

<span class=sd>    Returns:</span>
<span class=sd>        JoinableQueue: A queue for parallel document translation.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>JoinableQueue</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>pool_size</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.init_interpreter class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">init_interpreter</span> <a href=#es_translator.es_translator.EsTranslator.init_interpreter class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>init_interpreter</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Initializes the interpreter.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Any</code></td> <td> <code><span title="typing.Any">Any</span></code> </td> <td> <div class=doc-md-description> <p>The initialized interpreter.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>init_interpreter</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes the interpreter.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Any: The initialized interpreter.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>pack_dir</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data_dir</span><span class=p>,</span> <span class=s1>&#39;packs&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>interpreter_name</span><span class=p>)</span>
    <span class=n>interpreters</span> <span class=o>=</span> <span class=p>(</span><span class=n>Apertium</span><span class=p>,</span> <span class=n>Argos</span><span class=p>,)</span>
    <span class=n>Interpreter</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
        <span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>interpreters</span> <span class=k>if</span> <span class=n>i</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>interpreter_name</span><span class=o>.</span><span class=n>lower</span><span class=p>())</span>
    <span class=k>return</span> <span class=n>Interpreter</span><span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>source_language</span><span class=p>,</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>target_language</span><span class=p>,</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>intermediary_language</span><span class=p>,</span>
        <span class=n>pack_dir</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.instantiate_interpreter class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">instantiate_interpreter</span> <a href=#es_translator.es_translator.EsTranslator.instantiate_interpreter class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>instantiate_interpreter</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Instantiates the interpreter.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Any</code></td> <td> <code><span title="typing.Any">Any</span></code> </td> <td> <div class=doc-md-description> <p>An instance of the interpreter.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>instantiate_interpreter</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Instantiates the interpreter.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Any: An instance of the interpreter.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s1>&#39;interpreter&#39;</span><span class=p>):</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>print_done</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Instantiating </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>interpreter_name</span><span class=si>}</span><span class=s1> interpreter&#39;</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>interpreter</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>init_interpreter</span><span class=p>()</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>interpreter</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.print_done class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">print_done</span> <a href=#es_translator.es_translator.EsTranslator.print_done class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>print_done</span><span class=p>(</span><span class=n>string</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Prints a string and yields.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>string</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The string to be printed.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>ContextManager</code></td> <td> <code><span title="typing.ContextManager">ContextManager</span></code> </td> <td> <div class=doc-md-description> <p>A context manager.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextmanager</span>
<span class=k>def</span> <span class=nf>print_done</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>string</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ContextManager</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Prints a string and yields.</span>

<span class=sd>    Args:</span>
<span class=sd>        string (str): The string to be printed.</span>

<span class=sd>    Returns:</span>
<span class=sd>        ContextManager: A context manager.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=n>string</span><span class=p>)</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>stdout_loglevel</span> <span class=o>&gt;</span> <span class=mi>20</span><span class=p>:</span>
        <span class=n>string</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=se>\r</span><span class=si>%s</span><span class=s1>...&#39;</span> <span class=o>%</span> <span class=n>string</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>print_flush</span><span class=p>(</span><span class=n>string</span><span class=p>)</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=k>yield</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>{0}</span><span class=s1> </span><span class=se>\033</span><span class=s1>[92mdone</span><span class=se>\033</span><span class=s1>[0m&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>string</span><span class=p>))</span>
        <span class=k>except</span> <span class=p>(</span><span class=n>FatalTranslationException</span><span class=p>,</span> <span class=n>ElasticsearchException</span><span class=p>,</span> <span class=n>Full</span><span class=p>)</span> <span class=k>as</span> <span class=n>error</span><span class=p>:</span>
            <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=n>error</span><span class=p>,</span> <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
            <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>{0}</span><span class=s1> </span><span class=se>\033</span><span class=s1>[91merror</span><span class=se>\033</span><span class=s1>[0m&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>string</span><span class=p>))</span>
            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>yield</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.print_flush class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">print_flush</span> <a href=#es_translator.es_translator.EsTranslator.print_flush class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>print_flush</span><span class=p>(</span><span class=n>string</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Prints and flushes a string to stdout.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>string</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The string to be printed.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>print_flush</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>string</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Prints and flushes a string to stdout.</span>

<span class=sd>    Args:</span>
<span class=sd>        string (str): The string to be printed.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\r</span><span class=si>{0}</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>string</span><span class=p>))</span>
    <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.process_document class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">process_document</span> <a href=#es_translator.es_translator.EsTranslator.process_document class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>process_document</span><span class=p>(</span><span class=n>translation_queue</span><span class=p>,</span> <span class=n>hit</span><span class=p>,</span> <span class=n>progress</span><span class=p>,</span> <span class=n>task</span><span class=p>,</span> <span class=n>shared_fatal_error</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Processes a document.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>translation_queue</code></td> <td> <code><span title="multiprocessing.JoinableQueue">JoinableQueue</span></code> </td> <td> <div class=doc-md-description> <p>A queue for parallel document translation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>hit</code></td> <td> <code><span title="typing.Any">Any</span></code> </td> <td> <div class=doc-md-description> <p>The document to be translated.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>index</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>The index of the document.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>progress</code></td> <td> <code><span title="rich.progress.Progress">Progress</span></code> </td> <td> <div class=doc-md-description> <p>A progress object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>task</code></td> <td> <code><span title="typing.Any">Any</span></code> </td> <td> <div class=doc-md-description> <p>The current task.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>shared_fatal_error</code></td> <td> <code><span title="multiprocessing.Manager">Manager</span></code> </td> <td> <div class=doc-md-description> <p>A shared manager for fatal errors.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>process_document</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>translation_queue</span><span class=p>:</span> <span class=n>JoinableQueue</span><span class=p>,</span>
        <span class=n>hit</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
        <span class=n>progress</span><span class=p>:</span> <span class=n>Progress</span><span class=p>,</span>
        <span class=n>task</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
        <span class=n>shared_fatal_error</span><span class=p>:</span> <span class=n>Manager</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Processes a document.</span>

<span class=sd>    Args:</span>
<span class=sd>        translation_queue (JoinableQueue): A queue for parallel document translation.</span>
<span class=sd>        hit (Any): The document to be translated.</span>
<span class=sd>        index (int): The index of the document.</span>
<span class=sd>        progress (Progress): A progress object.</span>
<span class=sd>        task (Any): The current task.</span>
<span class=sd>        shared_fatal_error (Manager): A shared manager for fatal errors.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>translation_queue</span><span class=o>.</span><span class=n>put</span><span class=p>((</span><span class=bp>self</span><span class=p>,</span> <span class=n>hit</span><span class=p>),</span> <span class=kc>True</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>pool_timeout</span><span class=p>)</span>
    <span class=n>progress</span><span class=o>.</span><span class=n>advance</span><span class=p>(</span><span class=n>task</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>shared_fatal_error</span><span class=o>.</span><span class=n>value</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>FatalTranslationException</span><span class=p>(</span><span class=n>shared_fatal_error</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.search class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">search</span> <a href=#es_translator.es_translator.EsTranslator.search class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>search</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Executes a search query.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Search</code></td> <td> <code><span title="elasticsearch_dsl.Search">Search</span></code> </td> <td> <div class=doc-md-description> <p>The search result.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>search</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Search</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Executes a search query.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Search: The search result.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>using</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_client</span><span class=p>()</span>
    <span class=n>search</span> <span class=o>=</span> <span class=n>Search</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>index</span><span class=p>,</span> <span class=n>using</span><span class=o>=</span><span class=n>using</span><span class=p>)</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>query_string</span><span class=p>:</span>
        <span class=n>search</span> <span class=o>=</span> <span class=n>search</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s2>&quot;query_string&quot;</span><span class=p>,</span> <span class=n>query</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>query_string</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>search</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.start class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">start</span> <a href=#es_translator.es_translator.EsTranslator.start class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>start</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Starts or plans the translation process.</p> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>start</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts or plans the translation process.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>plan</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>start_later</span><span class=p>()</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>start_now</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.start_later class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">start_later</span> <a href=#es_translator.es_translator.EsTranslator.start_later class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>start_later</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Plan the translation process.</p> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>76</span>
<span class=normal>77</span>
<span class=normal>78</span>
<span class=normal>79</span>
<span class=normal>80</span>
<span class=normal>81</span>
<span class=normal>82</span>
<span class=normal>83</span>
<span class=normal>84</span>
<span class=normal>85</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>start_later</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Plan the translation process.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>instantiate_interpreter</span><span class=p>()</span>
    <span class=n>total</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>search</span><span class=p>()</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
    <span class=n>desc</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Planning translation for </span><span class=si>{</span><span class=n>total</span><span class=si>}</span><span class=s2> document</span><span class=si>{</span><span class=s1>&#39;s&#39;</span><span class=p>[:</span><span class=n>total</span><span class=o>^</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span>
    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>print_done</span><span class=p>(</span><span class=n>desc</span><span class=p>):</span>
        <span class=n>search</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>configure_search</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>hit</span> <span class=ow>in</span> <span class=n>search</span><span class=o>.</span><span class=n>scan</span><span class=p>():</span>
            <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Planned translation for doc </span><span class=si>{</span><span class=n>hit</span><span class=o>.</span><span class=n>meta</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=n>translate_document_task</span><span class=o>.</span><span class=n>delay</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>options</span><span class=p>,</span> <span class=n>hit</span><span class=o>.</span><span class=n>meta</span><span class=o>.</span><span class=n>to_dict</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.start_now class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">start_now</span> <a href=#es_translator.es_translator.EsTranslator.start_now class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>start_now</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Starts the translation process.</p> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>start_now</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Starts the translation process.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>instantiate_interpreter</span><span class=p>()</span>
    <span class=n>total</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>search</span><span class=p>()</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>
    <span class=n>desc</span> <span class=o>=</span> <span class=s1>&#39;Translating </span><span class=si>%s</span><span class=s1> document(s)&#39;</span> <span class=o>%</span> <span class=n>total</span>
    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>print_done</span><span class=p>(</span><span class=n>desc</span><span class=p>):</span>
        <span class=n>search</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>configure_search</span><span class=p>()</span>
        <span class=n>translation_queue</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_translation_queue</span><span class=p>()</span>
        <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>with_shared_fatal_error</span><span class=p>()</span> <span class=k>as</span> <span class=n>shared_fatal_error</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>translate_documents_in_pool</span><span class=p>(</span>
                <span class=n>search</span><span class=p>,</span> <span class=n>translation_queue</span><span class=p>,</span> <span class=n>shared_fatal_error</span><span class=p>,</span> <span class=n>total</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.translate_documents_in_pool class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">translate_documents_in_pool</span> <a href=#es_translator.es_translator.EsTranslator.translate_documents_in_pool class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>translate_documents_in_pool</span><span class=p>(</span><span class=n>search</span><span class=p>,</span> <span class=n>translation_queue</span><span class=p>,</span> <span class=n>shared_fatal_error</span><span class=p>,</span> <span class=n>total</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Translates documents.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>search</code></td> <td> <code><span title="elasticsearch_dsl.Search">Search</span></code> </td> <td> <div class=doc-md-description> <p>A search object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>translation_queue</code></td> <td> <code><span title="multiprocessing.JoinableQueue">JoinableQueue</span></code> </td> <td> <div class=doc-md-description> <p>A queue for parallel document translation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>shared_fatal_error</code></td> <td> <code><span title="multiprocessing.Manager">Manager</span></code> </td> <td> <div class=doc-md-description> <p>A shared manager for fatal errors.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>total</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>The total number of documents.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>translate_documents_in_pool</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>search</span><span class=p>:</span> <span class=n>Search</span><span class=p>,</span>
        <span class=n>translation_queue</span><span class=p>:</span> <span class=n>JoinableQueue</span><span class=p>,</span>
        <span class=n>shared_fatal_error</span><span class=p>:</span> <span class=n>Manager</span><span class=p>,</span>
        <span class=n>total</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Translates documents.</span>

<span class=sd>    Args:</span>
<span class=sd>        search (Search): A search object.</span>
<span class=sd>        translation_queue (JoinableQueue): A queue for parallel document translation.</span>
<span class=sd>        shared_fatal_error (Manager): A shared manager for fatal errors.</span>
<span class=sd>        total (int): The total number of documents.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=n>Pool</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>pool_size</span><span class=p>,</span> <span class=n>translation_worker</span><span class=p>,</span> <span class=p>(</span><span class=n>translation_queue</span><span class=p>,</span> <span class=n>shared_fatal_error</span><span class=p>)):</span>
        <span class=k>with</span> <span class=n>Progress</span><span class=p>(</span><span class=n>disable</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>no_progressbar</span><span class=p>,</span> <span class=n>transient</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span> <span class=k>as</span> <span class=n>progress</span><span class=p>:</span>
            <span class=n>task</span> <span class=o>=</span> <span class=n>progress</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;Translating </span><span class=si>{</span><span class=n>total</span><span class=si>}</span><span class=s2> document</span><span class=si>{</span><span class=s1>&#39;s&#39;</span><span class=p>[:</span><span class=n>total</span><span class=o>^</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>total</span><span class=o>=</span><span class=n>total</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>hit</span> <span class=ow>in</span> <span class=n>search</span><span class=o>.</span><span class=n>scan</span><span class=p>():</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>process_document</span><span class=p>(</span>
                    <span class=n>translation_queue</span><span class=p>,</span> <span class=n>hit</span><span class=p>,</span> <span class=n>progress</span><span class=p>,</span> <span class=n>task</span><span class=p>,</span> <span class=n>shared_fatal_error</span><span class=p>)</span>
            <span class=n>translation_queue</span><span class=o>.</span><span class=n>join</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.es_translator.EsTranslator.with_shared_fatal_error class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">with_shared_fatal_error</span> <a href=#es_translator.es_translator.EsTranslator.with_shared_fatal_error class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>with_shared_fatal_error</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Creates a context manager for managing shared fatal errors.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>ContextManager</code></td> <td> <code><span title="typing.ContextManager">ContextManager</span></code> </td> <td> <div class=doc-md-description> <p>A context manager.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/es_translator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextmanager</span>
<span class=k>def</span> <span class=nf>with_shared_fatal_error</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ContextManager</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a context manager for managing shared fatal errors.</span>

<span class=sd>    Returns:</span>
<span class=sd>        ContextManager: A context manager.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=n>Manager</span><span class=p>()</span> <span class=k>as</span> <span class=n>manager</span><span class=p>:</span>
        <span class=k>yield</span> <span class=n>manager</span><span class=o>.</span><span class=n>Value</span><span class=p>(</span><span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=es_translator.interpreters.Argos class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">es_translator.interpreters.Argos</span> <a href=#es_translator.interpreters.Argos class=headerlink title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=n>es_translator</span><span class=o>.</span><span class=n>interpreters</span><span class=o>.</span><span class=n>Argos</span><span class=p>(</span><span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>target</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>intermediary</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>pack_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><span title="es_translator.interpreters.abstract.AbstractInterpreter">AbstractInterpreter</span></code></p> <p>Argos is a class that extends the AbstractInterpreter.</p> <p>This class is responsible for handling translation tasks, specifically using the Argos interpreter.</p> <p><strong>Attributes:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The name of the interpreter.</p> </div> </td> </tr> </tbody> </table> <p>The function also checks if the necessary language pair is available, and downloads it if necessary.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>source</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The source language code.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr> <td><code>target</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The target language code.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr> <td><code>intermediary</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The intermediary language code. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr> <td><code>pack_dir</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The directory of language packs. This option will be ignored. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>Exception</code> </td> <td> <div class=doc-md-description> <p>If the necessary language pair is not available and cannot be downloaded.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>target</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>intermediary</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>pack_dir</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Initializes the Argos interpreter with source and target language codes.</span>

<span class=sd>    The function also checks if the necessary language pair is available, and downloads it if necessary.</span>

<span class=sd>    Args:</span>
<span class=sd>        source (str): The source language code.</span>
<span class=sd>        target (str): The target language code.</span>
<span class=sd>        intermediary (str, optional): The intermediary language code. Defaults to None.</span>
<span class=sd>        pack_dir (str, optional): The directory of language packs. This option will be ignored. Defaults to None.</span>

<span class=sd>    Raises:</span>
<span class=sd>        Exception: If the necessary language pair is not available and cannot be downloaded.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>source</span><span class=p>,</span> <span class=n>target</span><span class=p>)</span>
    <span class=c1># Raise an exception if an intermediary language is provded</span>
    <span class=k>if</span> <span class=n>intermediary</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span>
            <span class=s1>&#39;Argos interpreter doesnt support intermediary language&#39;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>pack_dir</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span>
            <span class=s1>&#39;Argos interpreter doesnt support custom pack directory&#39;</span><span class=p>)</span>
    <span class=c1># Raise an exception if the language pair is unkown</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_pair_available</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>has_pair</span><span class=p>:</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>download_necessary_languages</span><span class=p>()</span>
        <span class=k>except</span> <span class=n>ArgosPairNotAvailable</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s1>&#39;The pair </span><span class=si>%s</span><span class=s1> is not available&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>pair</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s1>&#39;Existing package(s) found for pair </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=bp>self</span><span class=o>.</span><span class=n>pair</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=es_translator.interpreters.argos.argos.Argos.is_pair_available class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">is_pair_available</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#es_translator.interpreters.argos.argos.Argos.is_pair_available class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>is_pair_available</span>
</code></pre></div> <div class="doc doc-contents "> <p>Checks if the necessary language pair is available in the installed packages.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>True if the language pair is available, False otherwise.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=es_translator.interpreters.argos.argos.Argos.local_languages class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">local_languages</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#es_translator.interpreters.argos.argos.Argos.local_languages class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>local_languages</span>
</code></pre></div> <div class="doc doc-contents "> <p>Gets the codes for the installed languages.</p> <p>This method retrieves the installed languages and returns their codes as a list. If an AttributeError is encountered, it returns an empty list.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> </td> <td> <div class=doc-md-description> <p>list of str: The codes for the installed languages.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=es_translator.interpreters.argos.argos.Argos.translation class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">translation</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#es_translator.interpreters.argos.argos.Argos.translation class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>translation</span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns a Translation object for the source and target languages.</p> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>Exception</code> </td> <td> <div class=doc-md-description> <p>If either the source or target language is not installed.</p> </div> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Translation</code></td> <td> </td> <td> <div class=doc-md-description> <p>The Translation object for the source and target languages.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.interpreters.argos.argos.Argos.download_and_install_package class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">download_and_install_package</span> <a href=#es_translator.interpreters.argos.argos.Argos.download_and_install_package class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>download_and_install_package</span><span class=p>(</span><span class=n>package</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Downloads and installs a language package.</p> <p>This method locks the download using a file lock based on the package's source and target language codes. If the package is not installed, it is downloaded and installed.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>package</code></td> <td> <code>Package</code> </td> <td> <div class=doc-md-description> <p>The package to download and install.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title="filelock.Timeout">Timeout</span></code> </td> <td> <div class=doc-md-description> <p>If a lock on the download path cannot be acquired within the timeout duration.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>download_and_install_package</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>package</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Downloads and installs a language package.</span>

<span class=sd>    This method locks the download using a file lock based on the package&#39;s source and target language codes.</span>
<span class=sd>    If the package is not installed, it is downloaded and installed.</span>

<span class=sd>    Args:</span>
<span class=sd>        package (Package): The package to download and install.</span>

<span class=sd>    Raises:</span>
<span class=sd>        Timeout: If a lock on the download path cannot be acquired within the timeout duration.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>temp_dir</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tempfile</span><span class=o>.</span><span class=n>gettempdir</span><span class=p>())</span>
        <span class=n>lock_path</span> <span class=o>=</span> <span class=n>temp_dir</span> <span class=o>/</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>package</span><span class=o>.</span><span class=n>from_code</span><span class=si>}</span><span class=s1>_</span><span class=si>{</span><span class=n>package</span><span class=o>.</span><span class=n>to_code</span><span class=si>}</span><span class=s1>.lock&#39;</span>

        <span class=k>with</span> <span class=n>FileLock</span><span class=p>(</span><span class=n>lock_path</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>600</span><span class=p>)</span><span class=o>.</span><span class=n>acquire</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=mi>600</span><span class=p>):</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_package_installed</span><span class=p>(</span><span class=n>package</span><span class=p>):</span>
                <span class=k>return</span>
            <span class=n>download_path</span> <span class=o>=</span> <span class=n>package</span><span class=o>.</span><span class=n>download</span><span class=p>()</span>
            <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Installing Argos package </span><span class=si>{</span><span class=n>package</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>argospackage</span><span class=o>.</span><span class=n>install_from_path</span><span class=p>(</span><span class=n>download_path</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>Timeout</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>ArgosPackageDownloadLockTimeout</span><span class=p>(</span>
            <span class=sa>f</span><span class=s1>&#39;Another instance of the program is downloading the package </span><span class=si>{</span><span class=n>package</span><span class=si>}</span><span class=s1>. Please try again later.&#39;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.interpreters.argos.argos.Argos.download_necessary_languages class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">download_necessary_languages</span> <a href=#es_translator.interpreters.argos.argos.Argos.download_necessary_languages class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>download_necessary_languages</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Downloads necessary language packages if they are not installed already.</p> <p>This method performs the following steps: 1. Updates the package index. 2. Finds the necessary package. 3. Downloads and installs the package.</p> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title="es_translator.interpreters.argos.argos.ArgosPairNotAvailable">ArgosPairNotAvailable</span></code> </td> <td> <div class=doc-md-description> <p>If the necessary language package could not be found.</p> </div> </td> </tr> <tr> <td> <code><span title="filelock.Timeout">Timeout</span></code> </td> <td> <div class=doc-md-description> <p>If a lock on the download path cannot be acquired within the timeout duration.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>download_necessary_languages</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Downloads necessary language packages if they are not installed already.</span>

<span class=sd>    This method performs the following steps:</span>
<span class=sd>    1. Updates the package index.</span>
<span class=sd>    2. Finds the necessary package.</span>
<span class=sd>    3. Downloads and installs the package.</span>

<span class=sd>    Raises:</span>
<span class=sd>        ArgosPairNotAvailable: If the necessary language package could not be found.</span>
<span class=sd>        Timeout: If a lock on the download path cannot be acquired within the timeout duration.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>update_package_index</span><span class=p>()</span>
    <span class=n>necessary_package</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>find_necessary_package</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>download_and_install_package</span><span class=p>(</span><span class=n>necessary_package</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.interpreters.argos.argos.Argos.find_necessary_package class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">find_necessary_package</span> <a href=#es_translator.interpreters.argos.argos.Argos.find_necessary_package class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>find_necessary_package</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Finds the necessary language package.</p> <p>This method loops over the available packages to find the necessary package based on the source and target language codes. If the package cannot be found, it raises an ArgosPairNotAvailable exception.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Package</code></td> <td> </td> <td> <div class=doc-md-description> <p>The necessary language package.</p> </div> </td> </tr> </tbody> </table> <p><strong>Raises:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title="es_translator.interpreters.argos.argos.ArgosPairNotAvailable">ArgosPairNotAvailable</span></code> </td> <td> <div class=doc-md-description> <p>If the necessary language package could not be found.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>find_necessary_package</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Finds the necessary language package.</span>

<span class=sd>    This method loops over the available packages to find the necessary package based on the source and target language codes.</span>
<span class=sd>    If the package cannot be found, it raises an ArgosPairNotAvailable exception.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Package: The necessary language package.</span>

<span class=sd>    Raises:</span>
<span class=sd>        ArgosPairNotAvailable: If the necessary language package could not be found.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>package</span> <span class=ow>in</span> <span class=n>argospackage</span><span class=o>.</span><span class=n>get_available_packages</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>package</span><span class=o>.</span><span class=n>from_code</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>source_alpha_2</span> <span class=ow>and</span> <span class=n>package</span><span class=o>.</span><span class=n>to_code</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>target_alpha_2</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>package</span>
    <span class=k>raise</span> <span class=n>ArgosPairNotAvailable</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.interpreters.argos.argos.Argos.is_package_installed class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">is_package_installed</span> <a href=#es_translator.interpreters.argos.argos.Argos.is_package_installed class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>is_package_installed</span><span class=p>(</span><span class=n>package</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Checks if a package is installed.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>package</code></td> <td> <code>Package</code> </td> <td> <div class=doc-md-description> <p>The package to check.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>True if the package is installed, False otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>is_package_installed</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>package</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Checks if a package is installed.</span>

<span class=sd>    Args:</span>
<span class=sd>        package (Package): The package to check.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if the package is installed, False otherwise.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>package</span> <span class=ow>in</span> <span class=n>argospackage</span><span class=o>.</span><span class=n>get_installed_packages</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.interpreters.argos.argos.Argos.translate class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">translate</span> <a href=#es_translator.interpreters.argos.argos.Argos.translate class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>translate</span><span class=p>(</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Translates the input text from the source language to the target language.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>input</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The input text in the source language.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>The translated text in the target language.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>translate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=nb>input</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Translates the input text from the source language to the target language.</span>

<span class=sd>    Args:</span>
<span class=sd>        input (str): The input text in the source language.</span>

<span class=sd>    Returns:</span>
<span class=sd>        str: The translated text in the target language.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>translation</span><span class=o>.</span><span class=n>translate</span><span class=p>(</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=es_translator.interpreters.argos.argos.Argos.update_package_index class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">update_package_index</span> <a href=#es_translator.interpreters.argos.argos.Argos.update_package_index class=headerlink title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>update_package_index</span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Updates the package index.</p> <details class=quote> <summary>Source code in <code>es_translator/interpreters/argos/argos.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>update_package_index</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Updates the package index.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>argospackage</span><span class=o>.</span><span class=n>update_package_index</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=.. class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Home </div> </div> </a> <a href=../usage/ class="md-footer__link md-footer__link--next" aria-label="Next: Usage" rel=next> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Usage </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; International Consortium of Investigative Journalists </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/ICIJ/es-translator target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://pypi.org/project/es-translator/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> <a href=https://twitter.com/ICIJorg target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.tabs.link", "announce.dismiss", "content.code.copy", "navigation.footer", "navigation.top", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.a51614de.min.js></script> </body> </html>